<!--
Simple single-file prototype: "TV Girl" themed pink & blue chat UI.
This file is intended so you can validate the design/UX.
Functionality: local pseudo-chat (messages kept in localStorage). No server.
When you're happy with the style I can add real-time messaging (Firebase or Socket.io).
-->

<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Nous — Chat TV Girl</title>

  <!-- Google fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&family=Space+Grotesk:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --pink:#ff71ce;
      --blue:#67d0ff;
      --bg-1: linear-gradient(135deg,#0f0c29 0%, #302b63 50%, #24243e 100%);
      --glass: rgba(255,255,255,0.06);
      --muted: rgba(255,255,255,0.6);
      --card-radius:20px;
      --max-width:980px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;}
    body{
      margin:0;
      font-family: 'Space Grotesk', 'Montserrat', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background: radial-gradient(ellipse at 10% 10%, rgba(103,208,255,0.06) 0%, transparent 20%), radial-gradient(ellipse at 90% 90%, rgba(255,113,206,0.04) 0%, transparent 20%), var(--bg-1);
      color:#fff;
      display:flex;align-items:center;justify-content:center;padding:28px;
      -webkit-font-smoothing:antialiased;
    }

    .container{
      width:100%;max-width:var(--max-width);height:80vh;display:grid;grid-template-columns:340px 1fr;gap:20px;align-items:stretch;
    }

    /* left column — profile / rooms */
    .panel{
      background: linear-gradient(135deg, rgba(255,255,255,0.03), rgba(0,0,0,0.06));
      border-radius:var(--card-radius);
      padding:18px;backdrop-filter: blur(6px);box-shadow: 0 8px 30px rgba(0,0,0,0.6);
      overflow:hidden;
    }
    .brand{display:flex;gap:12px;align-items:center;margin-bottom:12px}
    .logo{width:54px;height:54px;border-radius:12px;display:grid;place-items:center;font-weight:800;font-size:20px;background:linear-gradient(135deg,var(--pink),var(--blue));color:#0b0b1a;box-shadow:0 6px 18px rgba(0,0,0,0.5);}
    .brand h1{font-size:18px;margin:0}
    .brand p{margin:0;font-size:12px;color:var(--muted)}

    .profile{display:flex;align-items:center;gap:12px;margin:18px 0}
    .avatar{width:56px;height:56px;border-radius:50%;background:conic-gradient(from 180deg at 50% 50%,var(--pink),var(--blue));display:grid;place-items:center;font-weight:700;color:#0b0b1a}
    .user-meta{flex:1}
    .user-meta .name{font-weight:700}
    .user-meta .status{font-size:12px;color:var(--muted)}

    .rooms{margin-top:8px}
    .room{padding:10px;border-radius:12px;margin-bottom:8px;display:flex;align-items:center;gap:10px;cursor:pointer}
    .room:hover{background:rgba(255,255,255,0.02)}
    .room .dot{width:12px;height:12px;border-radius:50%;background:linear-gradient(90deg,var(--pink),var(--blue));box-shadow:0 4px 10px rgba(0,0,0,0.4)}

    /* right column — chat */
    .chat{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.04));border-radius:var(--card-radius);display:flex;flex-direction:column;overflow:hidden;padding:0;
    }
    .chat-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid rgba(255,255,255,0.03)}
    .chat-header h2{margin:0;font-size:18px}
    .chat-body{flex:1;padding:20px;overflow:auto;display:flex;flex-direction:column;gap:12px;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><text x="-10" y="14" fill="rgba(255,255,255,0.02)" transform="rotate(-25)">TV GIRL</text></svg>');background-repeat:repeat;}

    .bubble{max-width:66%;padding:12px 14px;border-radius:16px;position:relative;box-shadow:0 6px 18px rgba(2,6,23,0.45);}
    .bubble.me{align-self:flex-end;background:linear-gradient(90deg,var(--pink),#ffb3e6);color:#221;
      border-bottom-right-radius:6px;}
    .bubble.them{align-self:flex-start;background:linear-gradient(90deg,#9be7ff,var(--blue));color:#06202e;border-bottom-left-radius:6px}
    .time{display:block;font-size:11px;color:rgba(0,0,0,0.5);margin-top:6px}

    .chat-footer{padding:14px;border-top:1px solid rgba(255,255,255,0.03);display:flex;gap:10px;align-items:center}
    .input{flex:1;background:transparent;border:1px solid rgba(255,255,255,0.06);padding:12px;border-radius:14px;color:var(--muted);outline:none}
    .input:focus{border-color:rgba(255,255,255,0.12);color:#fff}
    .btn{background:linear-gradient(90deg,var(--pink),var(--blue));padding:10px 14px;border-radius:12px;border:none;color:#07061a;font-weight:700;cursor:pointer}

    /* login overlay */
    .overlay{position:fixed;inset:0;display:grid;place-items:center;background:linear-gradient(180deg,rgba(2,6,23,0.6),rgba(2,6,23,0.85));z-index:40}
    .card{background:linear-gradient(135deg, rgba(255,255,255,0.03), rgba(0,0,0,0.06));padding:28px;border-radius:20px;max-width:420px;width:94%;box-shadow:0 20px 50px rgba(0,0,0,0.6);}
    .card h3{margin:0 0 12px 0}
    .field{margin-bottom:10px}
    .field input{width:100%;padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:#fff}
    .small{font-size:13px;color:var(--muted)}

    /* small screens */
    @media (max-width:820px){
      .container{grid-template-columns:1fr;align-items:stretch;height:88vh}
      .panel{order:2}
      .chat{order:1}
    }

  </style>
</head>
<body>

  <div class="container">
    <aside class="panel">
      <div class="brand">
        <div class="logo">TV</div>
        <div>
          <h1>Nous</h1>
          <p>un petit espace privé ✨</p>
        </div>
      </div>

      <div class="profile">
        <div class="avatar" id="miniAvatar">A</div>
        <div class="user-meta">
          <div class="name" id="miniName">Invité</div>
          <div class="status">Connecte-toi pour parler</div>
        </div>
      </div>

      <div class="rooms">
        <div class="room"><div class="dot"></div><div>Discussion privée</div></div>
        <div class="room"><div class="dot"></div><div>Souvenirs</div></div>
      </div>

      <div style="margin-top:18px;font-size:13px;color:var(--muted)">Design inspiré par l'esthétique TV Girl — couleurs pastel, grain doux et typographie minimaliste.</div>
    </aside>

    <main class="chat" role="region" aria-label="Chat principal">
      <div class="chat-header">
        <h2>Discussion privée</h2>
        <div class="small">Protégé par ton pseudo local</div>
      </div>

      <div class="chat-body" id="chatBody">
        <!-- messages inserted here -->
      </div>

      <div class="chat-footer">
        <input id="messageInput" class="input" placeholder="Ecris un message..." aria-label="Message" />
        <button id="sendBtn" class="btn">Envoyer</button>
      </div>
    </main>
  </div>

  <!-- login overlay -->
  <div class="overlay" id="overlay">
    <div class="card">
      <h3>Se connecter</h3>
      <div class="small">Entre un pseudo pour toi et ton mot secret (simple) pour que ce soit privé sur ton navigateur.</div>
      <div class="field" style="margin-top:12px">
        <input id="nameField" placeholder="Ton pseudo (ex: Loulou)" />
      </div>
      <div class="field">
        <input id="secretField" placeholder="Mot secret (ceci reste local)" />
      </div>
      <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:8px">
        <button id="startBtn" class="btn">Entrer</button>
      </div>
    </div>
  </div>

<script>
// Simple local chat prototype (no server). Messages are stored in localStorage so both of you on
// the same device/browser will see the conversation. This is just to validate design.

const $ = id => document.getElementById(id);
const overlay = $('overlay');
const startBtn = $('startBtn');
const nameField = $('nameField');
const secretField = $('secretField');
const miniName = $('miniName');
const miniAvatar = $('miniAvatar');
const chatBody = $('chatBody');
const messageInput = $('messageInput');
const sendBtn = $('sendBtn');

let me = null; // {name, secret}

function updateProfile(){
  if(me){
    miniName.textContent = me.name;
    miniAvatar.textContent = me.name.slice(0,1).toUpperCase();
  }
}

function saveSession(){
  localStorage.setItem('tvgirl_session', JSON.stringify(me));
}
function loadSession(){
  const s = localStorage.getItem('tvgirl_session');
  if(s) me = JSON.parse(s);
}

function loadMessages(){
  const raw = localStorage.getItem('tvgirl_msgs');
  return raw? JSON.parse(raw) : [];
}
function saveMessages(msgs){
  localStorage.setItem('tvgirl_msgs', JSON.stringify(msgs));
}

function renderMessages(){
  const msgs = loadMessages();
  chatBody.innerHTML = '';
  msgs.forEach(m => {
    const el = document.createElement('div');
    el.className = 'bubble ' + (m.from === me.name ? 'me' : 'them');
    el.innerHTML = `<div style="font-weight:600">${escapeHtml(m.from)}</div><div>${escapeHtml(m.text)}</div><span class="time">${new Date(m.ts).toLocaleString()}</span>`;
    chatBody.appendChild(el);
  });
  // scroll to bottom
  chatBody.scrollTop = chatBody.scrollHeight;
}

function escapeHtml(s){
  return String(s).replace(/[&<>"']/g, function(c){ return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"}[c]; });
}

startBtn.addEventListener('click', ()=>{
  const name = nameField.value.trim() || 'Invité';
  const secret = secretField.value.trim() || Math.random().toString(36).slice(2,8);
  me = {name, secret};
  saveSession();
  overlay.style.display = 'none';
  updateProfile();
  renderMessages();
});

sendBtn.addEventListener('click', sendMessage);
messageInput.addEventListener('keydown', e => { if(e.key === 'Enter') sendMessage(); });

function sendMessage(){
  const text = messageInput.value.trim();
  if(!text) return;
  const msgs = loadMessages();
  msgs.push({from: me.name, text, ts: Date.now()});
  saveMessages(msgs);
  messageInput.value = '';
  renderMessages();
}

// initialize
loadSession();
if(me){ overlay.style.display='none'; updateProfile(); } else { overlay.style.display='grid'; }
renderMessages();

</script>
</body>
</html>
